\hypertarget{fe__cal_volume_8cpp_source}{}\section{fe\+\_\+cal\+Volume.\+cpp}
\label{fe__cal_volume_8cpp_source}\index{src/eema/src/\+Math/\+General\+Math/fe\+\_\+cal\+Volume.\+cpp@{src/eema/src/\+Math/\+General\+Math/fe\+\_\+cal\+Volume.\+cpp}}

\begin{DoxyCode}
00001 
00002 \textcolor{preprocessor}{#include"\hyperlink{functions_8h}{functions.h}"}
00003 
00004 \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00005 
\Hypertarget{fe__cal_volume_8cpp_source_l00006}\hyperlink{fe__cal_volume_8cpp_a00f586c9a4bc56ec486776402fc26605}{00006} \textcolor{keywordtype}{double} \hyperlink{fe__cal_volume_8cpp_a00f586c9a4bc56ec486776402fc26605}{fe\_calVolume}(VectorXd xcoord, VectorXd ycoord, VectorXd zcoord)\{
00007 
00008 \textcolor{keywordtype}{double} volume = 0;
00009 
00010 \textcolor{keywordflow}{if}(xcoord.size()==8)\{
00011     \textcolor{comment}{//Area of a side is the sum of area of triangles}
00012     \textcolor{comment}{// area of triangle is half the cross-product of two edges}
00013 
00014     \textcolor{comment}{// TET-1}
00015     Vector3d a1, a2, a3;
00016     a1 << (xcoord(0)-xcoord(7)), (ycoord(0)-ycoord(7)), (zcoord(0)-zcoord(7));
00017     a2 << (xcoord(2)-xcoord(7)), (ycoord(2)-ycoord(7)), (zcoord(2)-zcoord(7));
00018     a3 << (xcoord(3)-xcoord(7)), (ycoord(3)-ycoord(7)), (zcoord(3)-zcoord(7));
00019     \textcolor{keywordtype}{double} tet1\_vol = a1.dot(a2.cross(a3));
00020 
00021     \textcolor{comment}{//TET-2}
00022     Vector3d b1, b2, b3;
00023     b1 << (xcoord(0)-xcoord(4)), (ycoord(0)-ycoord(4)), (zcoord(0)-zcoord(4));
00024     b2 << (xcoord(5)-xcoord(4)), (ycoord(5)-ycoord(4)), (zcoord(5)-zcoord(4));
00025     b3 << (xcoord(7)-xcoord(4)), (ycoord(7)-ycoord(4)), (zcoord(7)-zcoord(4));
00026     \textcolor{keywordtype}{double} tet2\_vol = b1.dot(b2.cross(b3));
00027 
00028     \textcolor{comment}{//TET-3}
00029     Vector3d c1, c2, c3;
00030     c1 << (xcoord(0)-xcoord(5)), (ycoord(0)-ycoord(5)), (zcoord(0)-zcoord(5));
00031     c2 << (xcoord(2)-xcoord(5)), (ycoord(2)-ycoord(5)), (zcoord(2)-zcoord(5));
00032     c3 << (xcoord(1)-xcoord(5)), (ycoord(1)-ycoord(5)), (zcoord(1)-zcoord(5));
00033     \textcolor{keywordtype}{double} tet3\_vol = c1.dot(c2.cross(c3));
00034 
00035     \textcolor{comment}{//TET-4}
00036     Vector3d d1, d2, d3;
00037     d1 << (xcoord(7)-xcoord(5)), (ycoord(7)-ycoord(5)), (zcoord(7)-zcoord(5));
00038     d2 << (xcoord(2)-xcoord(5)), (ycoord(2)-ycoord(5)), (zcoord(2)-zcoord(5));
00039     d3 << (xcoord(6)-xcoord(5)), (ycoord(6)-ycoord(5)), (zcoord(6)-zcoord(5));
00040     \textcolor{keywordtype}{double} tet4\_vol = d1.dot(d2.cross(d3));
00041 
00042     \textcolor{comment}{//TET-5}
00043     Vector3d e1, e2, e3;
00044     e1 << (xcoord(7)-xcoord(5)), (ycoord(7)-ycoord(5)), (zcoord(7)-zcoord(5));
00045     e2 << (xcoord(2)-xcoord(5)), (ycoord(2)-ycoord(5)), (zcoord(2)-zcoord(5));
00046     e3 << (xcoord(0)-xcoord(5)), (ycoord(0)-ycoord(5)), (zcoord(0)-zcoord(5));
00047     \textcolor{keywordtype}{double} tet5\_vol = e1.dot(e2.cross(e3));
00048 
00049     volume = (std::abs(tet1\_vol) + std::abs(tet2\_vol) + std::abs(tet3\_vol) + std::abs(tet4\_vol) + std::abs(
      tet5\_vol))/6;
00050 
00051 \}
00052 
00053 \textcolor{keywordflow}{if}(xcoord.size()==2)\{ \textcolor{comment}{// Return length for a 1D element}
00054     VectorXd vec;
00055     vec << (xcoord(1)-xcoord(0)),(ycoord(1)-ycoord(0)),(zcoord(1)-zcoord(0));
00056     volume = vec.norm();
00057 \}
00058 
00059     \textcolor{keywordflow}{return} volume;
00060 \}
\end{DoxyCode}
