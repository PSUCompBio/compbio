\hypertarget{fe__assemble__mass_8cpp_source}{}\section{fe\+\_\+assemble\+\_\+mass.\+cpp}
\label{fe__assemble__mass_8cpp_source}\index{src/eema/src/\+F\+E\+M/\+Assembly-\/\+Global-\/\+Local/fe\+\_\+assemble\+\_\+mass.\+cpp@{src/eema/src/\+F\+E\+M/\+Assembly-\/\+Global-\/\+Local/fe\+\_\+assemble\+\_\+mass.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{/*}
00002 \textcolor{comment}{ * fe\_assemble\_mass.cpp}
00003 \textcolor{comment}{ *}
00004 \textcolor{comment}{ * Description: This function takes an element level mass matrix and assembles it into a}
00005 \textcolor{comment}{ * global mass matrix.}
00006 \textcolor{comment}{ *}
00007 \textcolor{comment}{ *  Created on: Mar 15, 2017}
00008 \textcolor{comment}{ *  Author: Harsha T. Garimella}
00009 \textcolor{comment}{ *}
00010 \textcolor{comment}{ *  Algorithm:}
00011 \textcolor{comment}{ *  1. For the particular element, get the node list.}
00012 \textcolor{comment}{ *  2. Find the indices corresponding to each node. (finding using fe\_find\_index.cpp)}
00013 \textcolor{comment}{ *      - Each index represents the DOF of each node.}
00014 \textcolor{comment}{ *  3. Based on the index value, add the local mass matrix to global mass matrix.}
00015 \textcolor{comment}{ *}
00016 \textcolor{comment}{ *}
00017 \textcolor{comment}{ */}
00018 
00019 \textcolor{preprocessor}{#include<iostream>}
00020 
00021 \textcolor{preprocessor}{#include "\hyperlink{functions_8h}{functions.h}"}
00022 \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00023 
\Hypertarget{fe__assemble__mass_8cpp_source_l00024}\hyperlink{fe__assemble__mass_8cpp_a04f569c566ca4fbea3b3a2a13cdd0af5}{00024} MatrixXd \hyperlink{fe__assemble__mass_8cpp_a04f569c566ca4fbea3b3a2a13cdd0af5}{fe\_assemble\_mass}(MatrixXd mm, MatrixXd m, VectorXi node\_list, \textcolor{keywordtype}{int} sdof)\{
00025 
00026     \textcolor{keywordtype}{int} edof = (node\_list.size())*\hyperlink{_global_variables_8h_aa789fe4d8a13fd0990b630909430d5d0}{ndof};
00027     VectorXi index = \hyperlink{functions_8h_ae4dbe24b761cafa3577afab76726b382}{fe\_find\_index}(node\_list);
00028 
00029     \textcolor{keywordtype}{int} ii = 0;
00030     \textcolor{keywordtype}{int} jj = 0;
00031 
00032     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<edof; i++)\{
00033         ii = index(i);
00034         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0; j<edof; j++)\{
00035             jj = index(j);
00036             mm(ii,jj) = mm(ii,jj) + m(i,j) ;
00037         \}
00038     \}
00039 
00040     \textcolor{keywordflow}{return} mm;
00041 
00042 \}
\end{DoxyCode}
