\hypertarget{fe__simple__elastic_8cpp_source}{}\section{fe\+\_\+simple\+\_\+elastic.\+cpp}
\label{fe__simple__elastic_8cpp_source}\index{src/eema/src/\+Materials/\+Elastic/fe\+\_\+simple\+\_\+elastic.\+cpp@{src/eema/src/\+Materials/\+Elastic/fe\+\_\+simple\+\_\+elastic.\+cpp}}

\begin{DoxyCode}
00001 
00002 
00003 \textcolor{preprocessor}{#include "\hyperlink{functions_8h}{functions.h}"}
00004 
00005 \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00006 
\Hypertarget{fe__simple__elastic_8cpp_source_l00007}\hyperlink{fe__simple__elastic_8cpp_ab0911abb05a0ca06eb4f330890ee0641}{00007} VectorXd \hyperlink{fe__simple__elastic_8cpp_ab0911abb05a0ca06eb4f330890ee0641}{fe\_simple\_elastic}(VectorXd dndx, VectorXd dndy, VectorXd dndz, MatrixXd disp\_mat,
       VectorXd u, \textcolor{keywordtype}{int} opt, \textcolor{keywordtype}{int} return\_opt)\{
00008     
00009     VectorXd sigma\_local = VectorXd::Zero(6);
00010 
00011     MatrixXd matl\_mat = MatrixXd::Zero(6,6);
00012     \textcolor{keywordtype}{double} E = \hyperlink{functions_8h_af7ffbad6dfcc99fc88b130c1a7b1720a}{fe\_get\_mats}(opt,1);
00013     \textcolor{keywordtype}{double} nu = \hyperlink{functions_8h_af7ffbad6dfcc99fc88b130c1a7b1720a}{fe\_get\_mats}(opt,2);
00014     matl\_mat = \hyperlink{fe__simple__elastic_8cpp_abbc5cafd6bb8048b69b3bd6f26ceb5f8}{fe\_calculate\_matlmat}(4,E,nu);
00015     sigma\_local = matl\_mat*disp\_mat*u;
00016 
00017     \textcolor{keywordflow}{return} sigma\_local;
00018 \}
00019 
\Hypertarget{fe__simple__elastic_8cpp_source_l00020}\hyperlink{fe__simple__elastic_8cpp_abbc5cafd6bb8048b69b3bd6f26ceb5f8}{00020} MatrixXd \hyperlink{fe__simple__elastic_8cpp_abbc5cafd6bb8048b69b3bd6f26ceb5f8}{fe\_calculate\_matlmat}(\textcolor{keywordtype}{int} n, \textcolor{keywordtype}{double} E, \textcolor{keywordtype}{double} nu)\{
00021 
00022     MatrixXd matl\_mat(6,6);
00023     \textcolor{keywordtype}{double} cons = (E/((1+nu)*(1-(2*nu))));
00024 
00025     \textcolor{keywordflow}{if} (n==4)\{ \textcolor{comment}{// n==4 3 dimensional analysis}
00026         \textcolor{comment}{// int dim = (n*(n+1)/2);}
00027 
00028         \textcolor{comment}{// 1st Row}
00029         matl\_mat(0,0) = (1-nu);
00030         matl\_mat(0,1) = nu;
00031         matl\_mat(0,2) = nu;
00032         matl\_mat(0,3) = 0;
00033         matl\_mat(0,4) = 0;
00034         matl\_mat(0,5) = 0;
00035 
00036         \textcolor{comment}{//2nd Row}
00037         matl\_mat(1,0) = (nu);
00038                 matl\_mat(1,1) = (1-nu);
00039                 matl\_mat(1,2) = nu;
00040                 matl\_mat(1,3) = 0;
00041                 matl\_mat(1,4) = 0;
00042                 matl\_mat(1,5) = 0;
00043 
00044         \textcolor{comment}{//3rd Row}
00045         matl\_mat(2,0) = (nu);
00046                 matl\_mat(2,1) = nu;
00047                 matl\_mat(2,2) = (1-nu);
00048                 matl\_mat(2,3) = 0;
00049                 matl\_mat(2,4) = 0;
00050                 matl\_mat(2,5) = 0;
00051 
00052         \textcolor{comment}{//4th Row}
00053         matl\_mat(3,0) = 0;
00054                 matl\_mat(3,1) = 0;
00055                 matl\_mat(3,2) = 0;
00056                 matl\_mat(3,3) = ((1-(2*nu))/2);
00057                 matl\_mat(3,4) = 0;
00058                 matl\_mat(3,5) = 0;
00059 
00060         \textcolor{comment}{//5th Row}
00061         matl\_mat(4,0) = 0;
00062                 matl\_mat(4,1) = 0;
00063                 matl\_mat(4,2) = 0;
00064                 matl\_mat(4,3) = 0;
00065                 matl\_mat(4,4) = ((1-(2*nu))/2);
00066                 matl\_mat(4,5) = 0;
00067 
00068         \textcolor{comment}{//6th Row}
00069         matl\_mat(5,0) = 0;
00070                 matl\_mat(5,1) = 0;
00071                 matl\_mat(5,2) = 0;
00072                 matl\_mat(5,3) = 0;
00073                 matl\_mat(5,4) = 0;
00074                 matl\_mat(5,5) = ((1-(2*nu))/2);
00075     \}
00076 
00077     matl\_mat = matl\_mat*cons;
00078 
00079     \textcolor{keywordflow}{return} matl\_mat;
00080 
00081 \}
\end{DoxyCode}
